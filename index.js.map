{"version":3,"file":"index.js","sources":["../../node_modules/.pnpm/@llej+js_util@1.0.10/node_modules/@llej/js_util/dist/src/decorator/guard/after-before.js","../../node_modules/.pnpm/@llej+js_util@1.0.10/node_modules/@llej/js_util/dist/src/decorator/guard/index.js","../../node_modules/.pnpm/@llej+js_util@1.0.10/node_modules/@llej/js_util/dist/src/decorator/index.js","../../node_modules/.pnpm/@llej+js_util@1.0.10/node_modules/@llej/js_util/dist/src/hash/time33.js","../../node_modules/.pnpm/@llej+js_util@1.0.10/node_modules/@llej/js_util/dist/src/hash/index.js","../../node_modules/.pnpm/@llej+js_util@1.0.10/node_modules/@llej/js_util/dist/src/adap/index.js","../../node_modules/.pnpm/@llej+js_util@1.0.10/node_modules/@llej/js_util/dist/src/js-core/mixin/mixin.js","../../node_modules/.pnpm/@llej+js_util@1.0.10/node_modules/@llej/js_util/dist/src/js-core/mixin/index.js","../../node_modules/.pnpm/@llej+js_util@1.0.10/node_modules/@llej/js_util/dist/src/js-core/number/number.js","../../node_modules/.pnpm/@llej+js_util@1.0.10/node_modules/@llej/js_util/dist/src/js-core/number/index.js","../../node_modules/.pnpm/@llej+js_util@1.0.10/node_modules/@llej/js_util/dist/src/js-core/promise/await-promise.js","../../node_modules/.pnpm/@llej+js_util@1.0.10/node_modules/@llej/js_util/dist/src/js-core/promise/index.js","../../node_modules/.pnpm/@llej+js_util@1.0.10/node_modules/@llej/js_util/dist/src/js-core/string/url.js","../../node_modules/.pnpm/@llej+js_util@1.0.10/node_modules/@llej/js_util/dist/src/js-core/string/index.js","../../node_modules/.pnpm/@llej+js_util@1.0.10/node_modules/@llej/js_util/dist/src/js-core/index.js","../../node_modules/.pnpm/@llej+js_util@1.0.10/node_modules/@llej/js_util/dist/src/siyuan/mergePluginPackage.js","../../node_modules/.pnpm/@llej+js_util@1.0.10/node_modules/@llej/js_util/dist/src/siyuan/index.js","../../node_modules/.pnpm/@llej+js_util@1.0.10/node_modules/@llej/js_util/dist/src/index.js","../../src/libs/siyuanPlugin.ts","../../src/toolkit-plugin-siyuan/index.ts"],"sourcesContent":["\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.run_before = exports.run_after = void 0;\n/** 函数运行之后，执行里面的回调函数,会将函数执行的值赋给他 */\nfunction run_after(f) {\n    return function name(target, propertyKey, descriptor) {\n        return Object.assign(Object.assign({}, descriptor), { value(...arg) {\n                return __awaiter(this, void 0, void 0, function* () {\n                    const res = yield descriptor.value(...arg);\n                    yield f(res);\n                    return res;\n                });\n            } });\n    };\n}\nexports.run_after = run_after;\n/** 函数运行之前，执行里面的回调函数 */\nfunction run_before(f) {\n    return function name(target, propertyKey, descriptor) {\n        return Object.assign(Object.assign({}, descriptor), { value(...arg) {\n                return __awaiter(this, void 0, void 0, function* () {\n                    yield f();\n                    const res = yield descriptor.value(...arg);\n                    return res;\n                });\n            } });\n    };\n}\nexports.run_before = run_before;\n//# sourceMappingURL=after-before.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./after-before\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.guard = void 0;\nconst guard = __importStar(require(\"./guard\"));\nexports.guard = guard;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.hash_time33 = void 0;\n/**\n    A string hashing function based on Daniel J. Bernstein's popular 'times 33' hash algorithm.\n*/\nfunction hash_time33(text) {\n    let hash = 5381, index = text.length;\n    while (index) {\n        ///@ts-ignore\n        hash = (hash * 33) ^ text.codePointAt(--index);\n    }\n    return hash >>> 0;\n}\nexports.hash_time33 = hash_time33;\n//# sourceMappingURL=time33.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./time33\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.test = void 0;\n// export * from \"./cb-promise\";\nexports.test = 1;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.merge_obj = exports.applyMixins = void 0;\n/** mixin 多个对象的属性 */\nfunction applyMixins(derivedCtor, baseCtors) {\n    baseCtors.forEach(baseCtor => {\n        Object.getOwnPropertyNames(baseCtor.prototype).forEach(name => {\n            derivedCtor.prototype[name] = baseCtor.prototype[name];\n        });\n    });\n}\nexports.applyMixins = applyMixins;\n/** 创建一个新对象，然后将其他对象的属性都附加上去，后面的可能会覆盖掉前面的 */\nfunction merge_obj(...objs) {\n    let obj = {};\n    for (let i = 0; i < objs.length; i++) {\n        const el = objs[i];\n        if (el instanceof Object)\n            obj = Object.assign(Object.assign({}, obj), el);\n    }\n    return obj;\n}\nexports.merge_obj = merge_obj;\n//# sourceMappingURL=mixin.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./mixin\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.take_two_decimal_places = void 0;\n/** 取小数点后两位 */\nfunction take_two_decimal_places(num) {\n    return Number(num).toFixed(2);\n}\nexports.take_two_decimal_places = take_two_decimal_places;\n//# sourceMappingURL=number.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./number\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.awaitPromise = void 0;\n/** 包裹promise,然后回以回调 */\nfunction awaitPromise({ getPromise, \n/** 这里的也要描述类型？ */\nsucceed = (r) => { }, error = () => { }, end = () => { }, midway = () => { }, }) {\n    let running = false;\n    return function (...arg) {\n        if (running) {\n            midway();\n        }\n        else {\n            running = true;\n            const promise = getPromise.apply(this, arg);\n            promise\n                .then((r) => {\n                succeed(r);\n            })\n                .catch(error)\n                .finally(() => {\n                end();\n                running = false;\n            });\n        }\n    };\n}\nexports.awaitPromise = awaitPromise;\n//# sourceMappingURL=await-promise.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./await-promise\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports._URL = void 0;\nclass _URL {\n    constructor(url) {\n        this.par_obj = _URL.getParameters(url);\n    }\n    /** 解析url中的参数 最少会返回一个{}对象 */\n    static getParameters(url_str) {\n        const url = decodeURIComponent(url_str);\n        let obj = url.match(/([^?=&]+)(=([^&]*))/g);\n        if (obj === null) {\n            return {};\n        }\n        const par = obj.reduce((a, v) => (a[v.slice(0, v.indexOf('='))] = v.slice(v.indexOf('=') + 1), a), {});\n        return par;\n    }\n    /** 获取对应key的值，没有的情况下返回空字符串 */\n    getValue(key) {\n        const value = this.par_obj[key];\n        if (value === undefined) {\n            return \"\";\n        }\n        return value;\n    }\n}\nexports._URL = _URL;\n//# sourceMappingURL=url.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./url\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.string = exports.promise = exports.number = exports.mixin = void 0;\nconst mixin = __importStar(require(\"./mixin\"));\nexports.mixin = mixin;\nconst number = __importStar(require(\"./number\"));\nexports.number = number;\nconst promise = __importStar(require(\"./promise\"));\nexports.promise = promise;\nconst string = __importStar(require(\"./string\"));\nexports.string = string;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.mergePluginPackage = void 0;\nfunction mergePluginPackage(pkg, plugin) {\n    return Object.assign(Object.assign({}, plugin), { version: pkg.version, name: pkg.name, url: pkg.repository, author: pkg.author });\n}\nexports.mergePluginPackage = mergePluginPackage;\n//# sourceMappingURL=mergePluginPackage.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.bindData = exports.mergePluginPackage = void 0;\nconst mergePluginPackage_1 = require(\"./mergePluginPackage\");\nObject.defineProperty(exports, \"mergePluginPackage\", { enumerable: true, get: function () { return mergePluginPackage_1.mergePluginPackage; } });\n/** 插件专用，用于管理 data 的类型 */\nfunction bindData(opt) {\n    const { that, storageName, initValue } = opt;\n    let _value = initValue;\n    const loadValue = () => __awaiter(this, void 0, void 0, function* () {\n        const value = yield that.loadData(storageName);\n        if (value !== \"\") {\n            _value = value;\n        }\n        return _value;\n    });\n    // 立刻一次加载执行\n    loadValue();\n    return {\n        /** 会执行 loadData 然后再返回结果*/\n        loadValue,\n        value: () => _value,\n        set(value) {\n            _value = value;\n            that.saveData(storageName, _value);\n        },\n    };\n}\nexports.bindData = bindData;\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.siyuan = exports.js_core = exports.adap = exports.hash = exports.decorator = void 0;\nconst decorator = __importStar(require(\"./decorator\"));\nexports.decorator = decorator;\nconst hash = __importStar(require(\"./hash\"));\nexports.hash = hash;\nconst adap = __importStar(require(\"./adap\"));\nexports.adap = adap;\nconst js_core = __importStar(require(\"./js-core\"));\nexports.js_core = js_core;\nconst siyuan = __importStar(require(\"./siyuan/\"));\nexports.siyuan = siyuan;\n//# sourceMappingURL=index.js.map","import { Plugin } from \"siyuan\";\r\nexport class SiyuanPlugin extends Plugin {\r\n  // 在 unload 时执行注册的函数\r\n  addUnloadFn(fn: () => void) {\r\n    this.onunloadFn.push(fn);\r\n  }\r\n  onunloadFn: (() => void)[] = [];\r\n  onunload(): void {\r\n    this.onunloadFn.forEach((fn) => fn());\r\n  }\r\n}\r\n","import { siyuan } from \"@llej/js_util\";\r\nimport { SiyuanPlugin } from \"~/libs/siyuanPlugin\";\r\n// 引入这个变量后 vite 会自动注入 hot\r\nimport.meta.hot;\r\ntype searchTagRes = {\r\n  code: 0;\r\n  msg: \"\";\r\n  data: {\r\n    k: \"\";\r\n    tags: string[];\r\n  };\r\n};\r\nexport default class ToolKitPlugin extends SiyuanPlugin {\r\n  tagSort = siyuan.bindData({\r\n    initValue: {} as { [key: string]: number },\r\n    that: this,\r\n    storageName: \"tagSort.json\",\r\n  });\r\n  toolkit_setting = siyuan.bindData({\r\n    initValue: { tag_sort_reverse: false },\r\n    that: this,\r\n    storageName: \"toolkit_setting.json\",\r\n  });\r\n  onload(): void {\r\n    // @ts-ignore\r\n    globalThis[\"ToolKitPlugin\"] = this;\r\n    this.addUnloadFn(() => {\r\n      // @ts-ignore\r\n      globalThis[\"ToolKitPlugin\"] = undefined;\r\n    });\r\n    this.fn_tagSort();\r\n    this.addCommand({\r\n      hotkey: \"\",\r\n      langKey: `conflicted Comparison`,\r\n      langText: `conflicted Comparison`,\r\n      callback: () => {\r\n        this.fn_conflictedComparison();\r\n      },\r\n    });\r\n  }\r\n  async fn_tagSort() {\r\n    // 标签排序功能\r\n    const oldFetch = globalThis.fetch;\r\n    globalThis.fetch = async (input, init) => {\r\n      const res = await oldFetch(input, init);\r\n      if (input === \"/api/search/searchTag\") {\r\n        const json = (await res.clone().json()) as searchTagRes;\r\n        json.data.tags = json.data.tags.sort((a, b) => {\r\n          // todo 在搜索高亮的情况下等于 \\u003cmark\\u003eto\\u003c/mark\\u003edo\r\n          const a_key = a.replace(/<mark>(.*?)<\\/mark>/g, \"$1\");\r\n          const b_key = b.replace(/<mark>(.*?)<\\/mark>/g, \"$1\");\r\n          return (this.tagSort.value()[a_key] ?? 0) - (this.tagSort.value()[b_key] ?? 0);\r\n        });\r\n        if (!this.toolkit_setting.value().tag_sort_reverse) {\r\n          json.data.tags.reverse();\r\n        }\r\n        const newRes = new Response(JSON.stringify(json), {\r\n          status: 200,\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n        });\r\n        return newRes;\r\n      }\r\n      return res;\r\n    };\r\n    this.addUnloadFn(() => {\r\n      globalThis.fetch = oldFetch;\r\n    });\r\n    const onTagClick = (e: MouseEvent) => {\r\n      if (e.target instanceof HTMLElement && e.target.classList.contains(\"b3-list-item__text\")) {\r\n        const tag = e.target.textContent ?? \"\";\r\n        this.tagSort.set({\r\n          ...this.tagSort.value(),\r\n          [tag]: this.tagSort.value()[tag] ? this.tagSort.value()[tag] + 1 : 1,\r\n        });\r\n      }\r\n    };\r\n    document.addEventListener(\"click\", onTagClick, { capture: true });\r\n    this.addUnloadFn(() => {\r\n      document.removeEventListener(\"click\", onTagClick, { capture: true });\r\n    });\r\n  }\r\n  async fn_conflictedComparison() {\r\n    const [oldTab, newTab] = document.querySelectorAll(\r\n      \".layout__center .protyle:not(.fn__none) .protyle-content\",\r\n    );\r\n\r\n    const resizeEl = document.querySelector(\".layout__center .layout__resize\") as HTMLElement;\r\n    resizeEl?.addEventListener(\"wheel\", (event) => {\r\n      oldTab.scrollTop += event.deltaY;\r\n      newTab.scrollTop += event.deltaY;\r\n    });\r\n    if (oldTab === undefined || newTab === undefined) return;\r\n    const oldAllNode = [...oldTab.querySelectorAll(`[data-node-id][updated]`)] as HTMLElement[];\r\n    const newAllNode = [...newTab.querySelectorAll(`[data-node-id][updated]`)] as HTMLElement[];\r\n\r\n    comparison(oldAllNode, newAllNode);\r\n    comparison(newAllNode, oldAllNode);\r\n    function comparison(oldNodes: HTMLElement[], newNodes: HTMLElement[]) {\r\n      newNodes.forEach((el) => {\r\n        const oldNode = oldNodes.find(\r\n          (old) => old.getAttribute(\"updated\") === el.getAttribute(\"updated\"),\r\n        );\r\n        if (oldNode === undefined) {\r\n          el.style.outline = \"1px solid red\";\r\n        }\r\n      });\r\n    }\r\n  }\r\n}\r\n"],"names":["__awaiter","this","thisArg","_arguments","P","generator","adopt","value","resolve","reject","fulfilled","step","e","rejected","result","afterBefore","run_after","f","target","propertyKey","descriptor","arg","res","run_before","__createBinding","o","m","k","k2","desc","__exportStar","exports","p","require$$0","__setModuleDefault","v","__importStar","mod","decorator","guard","time33","hash_time33","text","hash","index","adap","mixin","applyMixins","derivedCtor","baseCtors","baseCtor","name","merge_obj","objs","obj","i","el","number","take_two_decimal_places","num","awaitPromise_1","awaitPromise","getPromise","succeed","r","error","end","midway","running","url","_URL","url_str","a","key","jsCore","require$$1","promise","require$$2","string","require$$3","mergePluginPackage_1","mergePluginPackage","pkg","plugin","bindData","opt","that","storageName","initValue","_value","loadValue","src","siyuan_1","js_core","siyuan","require$$4","Plugin","SiyuanPlugin","__publicField","fn","ToolKitPlugin","oldFetch","input","init","json","b","a_key","b_key","onTagClick","tag","oldTab","newTab","resizeEl","event","oldAllNode","newAllNode","comparison","oldNodes","newNodes","old"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17]}